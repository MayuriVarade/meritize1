

<div id="info">
<div class="container" style="margin-bottom:100px">
      

        <%= form_for @setting ,:html => {:multipart => true} do |f| %>
        <% if @setting.errors.any? %>
          <div id="error_explanation">
            <h2><%= pluralize(@setting.errors.count, "error") %> prohibited this setting from being saved:</h2>

            <ul>
            <% @setting.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
            </ul>
          </div>
        <% end %>
       

        <h1>Settings - General</h1>
        <table class="table table-hover table-responsive table-condensed">
          <tbody>
            <tr>
              <td>
                <label class="form-label">Company name:</label>
              </td>
              <td>
                 <%= f.text_field :company_name,:class=>"form-control" %>
                 <%= f.hidden_field :user_id , :value => current_user.id %>
              </td>
            </tr>
            <tr>
              <td>
                <label class="form-label">Company logo:</label>
              </td>
              <td>
                
                <% if params[:action] == "edit" %>
                  <%= image_tag @setting.photo.url(:small),:style=>"float:left;margin-right:10px" %>
                <% end %>

               <div style="margin:40px 0 0 150px" id="file_tag"> 
                 <%= f.file_field :photo %>
                 <span id='val'><%= @setting.photo_file_name %></span>
                 <span id='button2'>Select File</span>
               </div>

              </td>
            </tr>
            <tr>
              <td>
                <label class="form-label">Website address:</label>
              </td>
              <td>
                 <%= f.text_field :website_address,:class=>"form-control" %>
              </td>
            </tr>
            <tr>
              <td>
                <label class="form-label">Core values:</label>
              </td>
              <td>
                <div class="row">

                    <%= f.fields_for :core_values do |builder| %>
            
                          <%= render "core_value_fields", :f => builder %>
            
                    <% end %>
                
                              
                  <%= link_to_add_fields "Add another core value", f, :core_values %>
                
                </div>
              </td>
            </tr>
              <tr>
              <td>
                
              </td>
              <td>
                  <%= f.submit "Save", :class => "btn btn-primary"%>
               
              </td>
            </tr>



          </tbody>
        </table>
        <% end %>
      </div>

  <style type='text/css'>
   
div#file_tag {
    width: 400px;
    height: 25px;
    background-color: white;
    box-shadow: 1px 2px 3px #ededed;
    position:relative;
    border: 1px solid #d8d8d8;
}
input[type='file'] {
    width:400px;
    height:25px;
    opacity:0
}
#val {
    width: 400px;
    height:25px;
    position: absolute;
    top: 0;
    left: 0;
    font-size:13px;
    line-height: 25px;
    text-indent: 10px;
    pointer-events: none;
}
#button2 {
    cursor: pointer;
    display: block;
    width: 90px;
    background-color: purple;
    height:25px;
    color: white;
    position: absolute;
    right:0;
    top: 0;
    font-size: 11px;
    line-height:25px;
    text-align: center;
    -webkit-transition: 500ms all;
    -moz-transition: 500ms all;
    transition: 500ms all;
}

#button2:hover {
    background-color: blue;
}
  </style>

  <script type='text/javascript'>//<![CDATA[ 
$(window).load(function(){
$('#button').click(function () {
    $("input[type='file']").trigger('click');
})

$("input[type='file']").change(function () {
    $('#val').text(this.value.replace(/C:\\fakepath\\/i, ''))
})
});//]]>  

</script>